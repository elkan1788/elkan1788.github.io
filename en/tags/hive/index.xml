<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hive on Loving life and dreams.</title><link>https://lisenhui.cn/en/tags/hive/</link><description>Recent content in Hive on Loving life and dreams.</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Thu, 21 Mar 2019 19:04:51 +0000</lastBuildDate><atom:link href="https://lisenhui.cn/en/tags/hive/index.xml" rel="self" type="application/rss+xml"/><item><title>Temporary files cannot be created on the HDFS Data node</title><link>https://lisenhui.cn/en/2019/03/21/unable-create-tmp-file-in-hdfs-nodes.html</link><pubDate>Thu, 21 Mar 2019 19:04:51 +0000</pubDate><guid>https://lisenhui.cn/en/2019/03/21/unable-create-tmp-file-in-hdfs-nodes.html</guid><description>&lt;p>On the newly created &amp;lsquo;Hadoop&amp;rsquo; edge node, an attempt was made to insert data through the &amp;lsquo;Hive CLI&amp;rsquo; mode, resulting in no intended success, but instead an exception was caught as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-java" data-lang="java">&lt;span style="color:#a0a000">FAILED:&lt;/span> SemanticException &lt;span style="color:#666">[&lt;/span>Error 10293&lt;span style="color:#666">]:&lt;/span> Unable to create temp file &lt;span style="color:#a2f;font-weight:bold">for&lt;/span> insert values File &lt;span style="color:#666">/&lt;/span>tmp&lt;span style="color:#666">/&lt;/span>hive&lt;span style="color:#666">/&lt;/span>kylin&lt;span style="color:#666">/&lt;/span>9c84de0a&lt;span style="color:#666">-&lt;/span>fca2&lt;span style="color:#666">-&lt;/span>4d3c&lt;span style="color:#666">-&lt;/span>8f72&lt;span style="color:#666">-&lt;/span>47436a4adb83&lt;span style="color:#666">/&lt;/span>_tmp_space&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">db&lt;/span>&lt;span style="color:#666">/&lt;/span>Values__Tmp__Table__1&lt;span style="color:#666">/&lt;/span>data_file could only be replicated to 0 nodes instead of &lt;span style="color:#00a000">minReplication&lt;/span> &lt;span style="color:#666">(=&lt;/span>1&lt;span style="color:#666">).&lt;/span> There are 1 &lt;span style="color:#00a000">datanode&lt;/span>&lt;span style="color:#666">(&lt;/span>s&lt;span style="color:#666">)&lt;/span> running and 1 &lt;span style="color:#00a000">node&lt;/span>&lt;span style="color:#666">(&lt;/span>s&lt;span style="color:#666">)&lt;/span> are excluded in &lt;span style="color:#a2f;font-weight:bold">this&lt;/span> operation&lt;span style="color:#666">.&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hdfs&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">server&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">blockmanagement&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">BlockManager&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">chooseTarget4NewBlock&lt;/span>&lt;span style="color:#666">(&lt;/span>BlockManager&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>1720&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hdfs&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">server&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">namenode&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">FSNamesystem&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">getAdditionalBlock&lt;/span>&lt;span style="color:#666">(&lt;/span>FSNamesystem&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>3440&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hdfs&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">server&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">namenode&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">NameNodeRpcServer&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">addBlock&lt;/span>&lt;span style="color:#666">(&lt;/span>NameNodeRpcServer&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>686&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hdfs&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">server&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">namenode&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">AuthorizationProviderProxyClientProtocol&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">addBlock&lt;/span>&lt;span style="color:#666">(&lt;/span>AuthorizationProviderProxyClientProtocol&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>217&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hdfs&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">protocolPB&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ClientNamenodeProtocolServerSideTranslatorPB&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">addBlock&lt;/span>&lt;span style="color:#666">(&lt;/span>ClientNamenodeProtocolServerSideTranslatorPB&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>506&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hdfs&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">protocol&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">proto&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ClientNamenodeProtocolProtos$ClientNamenodeProtocol$2&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">callBlockingMethod&lt;/span>&lt;span style="color:#666">(&lt;/span>ClientNamenodeProtocolProtos&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ipc&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ProtobufRpcEngine$Server$ProtoBufRpcInvoker&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">call&lt;/span>&lt;span style="color:#666">(&lt;/span>ProtobufRpcEngine&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>617&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ipc&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">RPC$Server&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">call&lt;/span>&lt;span style="color:#666">(&lt;/span>RPC&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>1073&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ipc&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">Server$Handler$1&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">run&lt;/span>&lt;span style="color:#666">(&lt;/span>Server&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>2226&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ipc&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">Server$Handler$1&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">run&lt;/span>&lt;span style="color:#666">(&lt;/span>Server&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>2222&lt;span style="color:#666">)&lt;/span>
at java&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">security&lt;/span>&lt;span style="color:#666">.&lt;/span> AccessController&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">doPrivileged&lt;/span>&lt;span style="color:#666">(&lt;/span>Native Method&lt;span style="color:#666">)&lt;/span>
at javax&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">security&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">auth&lt;/span>&lt;span style="color:#666">.&lt;/span> Subject&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">doAs&lt;/span>&lt;span style="color:#666">(&lt;/span>Subject&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>415&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">security&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">UserGroupInformation&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">doAs&lt;/span>&lt;span style="color:#666">(&lt;/span>UserGroupInformation&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>1917&lt;span style="color:#666">)&lt;/span>
at org&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">apache&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">hadoop&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">ipc&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">Server$Handler&lt;/span>&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">run&lt;/span>&lt;span style="color:#666">(&lt;/span>Server&lt;span style="color:#666">.&lt;/span>&lt;span style="color:#b44">java&lt;/span>&lt;span style="color:#666">:&lt;/span>2220&lt;span style="color:#666">)&lt;/span>
&lt;span style="color:#a0a000">
&lt;/span>&lt;span style="color:#a0a000">ERROR:&lt;/span> Current user has no permission to create Hive table in working directory&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#666">/&lt;/span>user&lt;span style="color:#666">/&lt;/span>kylin
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Problems with HiveServer2 due to the JDBC version</title><link>https://lisenhui.cn/en/2017/10/17/hive2-jdbc-connector-issues.html</link><pubDate>Tue, 17 Oct 2017 17:33:04 +0000</pubDate><guid>https://lisenhui.cn/en/2017/10/17/hive2-jdbc-connector-issues.html</guid><description>&lt;p>Previously, &amp;lsquo;HDP&amp;rsquo; was used to build and manage the &amp;lsquo;Hadoop&amp;rsquo; environment, and there were no difficult problems when the installation was debugged, but this time it was a strange problem when it was deployed on the &amp;lsquo;Centos6x&amp;rsquo; system:&lt;/p>
&lt;p>On the face of it, the Hive service is functioning normally, the process is running normally, the page UI is normal, and the logs are not output incorrectly. Simple table-building statements can be executed, which can be caused by throwing exceptions when importing local/HDFSdata. The wrong stack information is as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &amp;#39;OPTION SQL_SELECT_LIMIT=DEFAULT&amp;#39; at line 1
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Another problem is that the HDFS data import prompt file does not exist using the&amp;rsquo;HiveView&amp;rsquo;UI provided by Ambari,with the error message as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">org.apache.hive.service.cli.HiveSQLException: Error while compiling statement: FAILED: SemanticException Line 1:17 Invalid path &amp;#39;&amp;#39;/tmp/xxx/xxxxx.csv&amp;#39;&amp;#39;: No files matching path hdfs:/...
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>The Sqoop tool imports data into the Hive note</title><link>https://lisenhui.cn/en/2017/05/24/sqoop-import-data-to-hive.html</link><pubDate>Wed, 24 May 2017 20:18:53 +0000</pubDate><guid>https://lisenhui.cn/en/2017/05/24/sqoop-import-data-to-hive.html</guid><description>&lt;p>Recently, the construction of a data warehouse is being messed up, just some of the dimension table data needs to come from RDBMS data, in the HADOOP environment is the most popular than Apache&amp;rsquo;s Sqoop tool, according to the official documentation operation is also smooth, but when to apply to the business scenario when the problem arises.&lt;/p></description></item></channel></rss>