<!doctype html><html lang=en dir=content/en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=content-security-policy content="upgrade-insecure-requests">
<title> The process of optimizing the Hugo Next theme - Loving life and dreams. </title>
<meta name=keywords content="Blog,Software,Big Data,Product,Architecture,Java,Kylin">
<meta name=author content="Elkan.Li">
<meta property="og:title" content="The process of optimizing the Hugo Next theme">
<meta property="og:site_name" content="Loving life and dreams.">
<meta property="og:image" content="https://lisenhui.cn/img/author.jpg">
<meta name=title content="The process of optimizing the Hugo Next theme - Loving life and dreams.">
<meta name=description content="Weclome to Elkan's blog site that who is best on program develop, pre-sales and big data.">
<link rel="shortcut icon" href=https://lisenhui.cn/img/favicon.ico>
<link rel=apple-touch-icon href=https://lisenhui.cn/img/apple-touch-icon.png>
<link rel=apple-touch-icon-precomposed href=https://lisenhui.cn/img/apple-touch-icon.png>
<link href=//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css>
<link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet>
<link href=https://lisenhui.cn/css/main.css rel=stylesheet type=text/css>
<link href=https://lisenhui.cn/css/syntax.css rel=stylesheet type=text/css>
<script type=text/javascript>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?9b021cbfb58b35e79012f9690de1c6ab",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
</head>
<body itemscope itemtype=http://schema.org/WebPage lang=zh-hans>
<div class="container one-collumn sidebar-position-left page-home">
<div class=headband></div>
<header id=header class=header itemscope itemtype=http://schema.org/WPHeader>
<div class=header-inner> <div class=site-brand-container>
<div class=site-nav-toggle>
<div class=toggle role=button style=opacity:1;top:0>
<span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span>
</div>
</div>
<div class=site-meta>
<div class=multi-lang-switch>
<i class="fa fa-fw fa-language" style=margin-right:5px></i>
<a class=lang-link id=zh-cn href=https://lisenhui.cn/2020/10/02/make-next-theme-pithy.html>中文</a>
<span class=lang-line> / </span>
<a class=lang-link id=en href=#>English</a>
</div>
<div class=custom-logo-site-title>
<a href=/en/ class=brand rel=start>
<span class=logo-line-before><i></i></span>
<span class=site-title>Loving life and dreams.</span>
<span class=logo-line-after><i></i></span>
</a>
</div>
<p class=site-subtitle>Don't stop running forward!</p>
</div>
<div class=site-nav-right>
<div class="toggle popup-trigger" style=opacity:1;top:0>
<i class="fa fa-search fa-fw fa-lg"></i>
</div>
</div>
</div>
<nav class=site-nav>
<ul id=menu class=menu>
<div style=display:none>https://lisenhui.cn/en/2020/10/02/make-next-theme-pithy.html, /en/2020/10/02/make-next-theme-pithy.html, /</div>
<li class=menu-item>
<a href=/en/ rel=section>
<i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home
</a>
<div style=display:none></div>
</li>
<div style=display:none>https://lisenhui.cn/en/2020/10/02/make-next-theme-pithy.html, /en/2020/10/02/make-next-theme-pithy.html, post</div>
<li class=menu-item>
<a href=/en/post rel=section>
<i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archive
</a>
<div style=display:none></div>
</li>
<div style=display:none>https://lisenhui.cn/en/2020/10/02/make-next-theme-pithy.html, /en/2020/10/02/make-next-theme-pithy.html, about.html</div>
<li class=menu-item>
<a href=/en/about.html rel=section>
<i class="menu-item-icon fa fa-fw fa-user"></i> <br>About
</a>
<div style=display:none></div>
</li>
<div style=display:none>https://lisenhui.cn/en/2020/10/02/make-next-theme-pithy.html, /en/2020/10/02/make-next-theme-pithy.html, /404.html</div>
<li class=menu-item>
<a href=/en/404.html rel=section target=_blank>
<i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>Page404
</a>
<div style=display:none></div>
</li>
<li class="menu-item menu-item-search">
<a href=javascript:; class=popup-trigger> <i class="menu-item-icon fa fa-search fa-fw"></i> <br> Search</a>
</li>
</ul>
<div class=site-search>
<div class="popup search-popup local-search-popup">
<div class="local-search-header clearfix">
<span class=search-icon><i class="fa fa-search"></i> </span>
<span class=popup-btn-close><i class="fa fa-times-circle"></i></span>
<div class=local-search-input-wrapper>
<input autocomplete=off placeholder="Enter key words..." spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off>
</div>
</div>
<div id=local-search-result></div>
</div>
</div>
</nav> </div>
</header>
<main id=main class=main>
<div class=sidebar-toggle>
<div class=sidebar-toggle-line-wrap>
<span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
</div>
</div>
<aside id=sidebar class=sidebar>
<div class=sidebar-inner>
<ul class="sidebar-nav motion-element">
<li class="sidebar-nav-toc sidebar-nav-active" data-target=post-toc-wrap>
Table of Content
</li>
<li class=sidebar-nav-overview data-target=site-overview>
Site Information
</li>
</ul>
<section class="site-overview sidebar-panel">
<div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person>
<img class=site-author-image itemprop=image src=/img/avatar.png alt=Elkan.Li>
<p class=site-author-name itemprop=name>Elkan.Li</p>
<p class="site-description motion-element" itemprop=description>
Never forget your dreams！
</p>
</div>
<nav class="site-state motion-element">
<div class="site-state-item site-state-posts">
<a href=/en/post/>
<span class=site-state-item-count>56</span>
<span class=site-state-item-name>Blogs</span>
</a>
</div>
<div class="site-state-item site-state-categories">
<a href=/en/categories/>
<span class=site-state-item-count>27</span>
<span class=site-state-item-name>Categories</span>
</a>
</div>
<div class="site-state-item site-state-tags">
<a href=/en/tags/>
<span class=site-state-item-count>65</span>
<span class=site-state-item-name>Tags</span>
</a>
</div>
</nav>
<div class="links-of-author motion-element">
<span class=links-of-author-item>
<a href=https://github.com/elkan1788/ target=_blank title=GitHub>
<i class="fa fa-fw fa-github"></i>
GitHub
</a>
</span>
<span class=links-of-author-item>
<a href=https://www.zhihu.com/people/fan-meng-xing-chen-1 target=_blank title=ZhiHu>
<i class="fa fa-fw fa-globe"></i>
ZhiHu
</a>
</span>
</div>
<div class="links-of-blogroll motion-element links-of-blogroll-inline">
<div class=links-of-blogroll-title>
<i class="fa fa-fw fa-globe"></i>
Links
</div>
<ul class=links-of-blogroll-list>
<li class=links-of-blogroll-item>
<a href=https://nutzam.com/ title=Nutz target=_blank>Nutz</a>
</li>
<li class=links-of-blogroll-item>
<a href=https://jfinal.com/ title=JFinal target=_blank>JFinal</a>
</li>
<li class=links-of-blogroll-item>
<a href=http://wendal.net/ title=Wendal target=_blank>Wendal</a>
</li>
<li class=links-of-blogroll-item>
<a href=https://www.liaoxuefeng.com/ title=LiaoXueFeng target=_blank>LiaoXueFeng</a>
</li>
<li class=links-of-blogroll-item>
<a href=http://lanlingzi.cn/ title=Lanlingzi target=_blank>Lanlingzi</a>
</li>
<li class=links-of-blogroll-item>
<a href=https://zhaohaiyu.com/ title="haiyux's blog" target=_blank>haiyux's blog</a>
</li>
</ul>
</div>
<div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline">
<div class=tagcloud-of-blogroll-title>
<i class="fa fa-fw fa-tags"></i>
TagCloud
</div>
<ul class=tagcloud-of-blogroll-list>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/big-data>Big data
<sup>13</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/java>Java
<sup>5</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/linux>Linux
<sup>5</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/blog>Blog
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/git>Git
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/github>Github
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/kindeditor>Kindeditor
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/python>Python
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/axure>Axure
<sup>3</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/front>Front
<sup>3</sup>
</a>
</li>
</ul>
</div>
<div class="links-of-blogroll motion-element inline">
<script type=text/javascript src="//rf.revolvermaps.com/0/0/6.js?i=5s83wolvn69&m=7&c=e63100&cr1=ffffff&f=arial&l=0&bv=90&lx=-420&ly=420&hi=20&he=7&hc=a8ddff&rs=80" async></script>
</div>
</section>
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
<div class=post-toc>
<div class=post-toc-content><nav id=TableOfContents>
<ul>
<li><a href=#1-background>1. Background</a></li>
<li><a href=#2-comment-function>2. Comment function</a>
<ul>
<li><a href=#21-livere>2.1 LiveRe</a></li>
<li><a href=#22-valine>2.2 Valine</a></li>
</ul>
</li>
<li><a href=#3-access-statistics>3. Access statistics</a></li>
<li><a href=#4-seo-optimization>4. SEO optimization</a></li>
<li><a href=#5-introduce-yourself>5. Introduce yourself</a></li>
<li><a href=#6-local-search>6. Local search</a></li>
<li><a href=#7-public-service-404>7. Public service 404</a></li>
<li><a href=#8-chat-online>8. Chat online</a></li>
<li><a href=#9-picture-browsing>9. Picture browsing</a></li>
<li><a href=#10-other-optimizations>10. Other optimizations</a></li>
</ul>
</nav></div>
</div>
</section>
</div>
</aside>
<div class=main-inner>
<div class=content-wrap>
<div id=content class=content>
<section id=posts class=posts-expand>
<article class="post post-type-normal" itemscope itemtype=http://schema.org/Article>
<header class=post-header>
<h1 class=post-title itemprop="name headline">
<a class=post-title-link href=https://lisenhui.cn/en/2020/10/02/make-next-theme-pithy.html itemprop=url>
The process of optimizing the Hugo Next theme
</a>
</h1>
<div class=post-meta>
<span class=post-time>
<i class="fa fa-calendar-o fa-fw"></i>
<span class=post-meta-item-text>Published at:</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2020-10-02">
2020-10-02
</time>
</span>
<span class=post-category>
&nbsp; | &nbsp;
<i class="fa fa-folder-o fa-fw"></i>
<span class=post-meta-item-text>Categories:</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing>
<a class=post-category-a href=/en/categories/blog itemprop=url rel=index>
<span itemprop=name>Blog</span>
</a>
&nbsp;
</span>
</span>
<span>
|
<i class="fa fa-file-word-o fa-fw"></i>
<span class=post-meta-item-text>Words:</span>
<span class=leancloud-world-count>1201 words</span>
</span>
<span>
|
<i class="fa fa-eye fa-fw"></i>
<span class=post-meta-item-text>Reading:</span>
<span class=leancloud-view-count>6 minutes</span>
</span>
<span id=/en/2020/10/02/make-next-theme-pithy.html class=leancloud_visitors data-flag-title="The process of optimizing the Hugo Next theme">
|
<i class="fa fa-binoculars fa-fw"></i>
<span class=post-meta-item-text>Visited:</span>
<span class=leancloud-visitors-count></span>
</span>
</div>
</header>
<div class=post-body itemprop=articleBody>
<h2 id=1-background>1. Background</h2>
<p>After some consideration or moving your personal blog from the Hexo engine to the Hugo engine, the blog theme is still NexT. In fact, I was worried about tossing up a brand new blog theme, and then I saw the &ldquo;NexT&rdquo;(<a href=https://github.com/xtfly/hugo-theme-next target=_blank rel=noopener>https://github.com/xtfly/hugo-theme-next</a>
) theme shared by Lanlings on Github and quotedit directly. However, after deployment, there are areas that need to be improved, and the process of retrofitting optimization is documented here. If you also like this topic, then welcome to use, also welcome to exchange feedback.</p>
<h2 id=2-comment-function>2. Comment function</h2>
<p>Comment function is a more important function of blog space, as an important bridge between bloggers and readers, it is naturally indispensable. LiveRe,which had been used before, recently found that access was not stable and did not support visitor review mode, so consider using Valine as comment support, but in the endboth were implemented.</p>
<h3 id=21-livere>2.1 LiveRe</h3>
<p>LiveRe(<a href=http://livere.com/ target=_blank rel=noopener>http://livere.com/</a>
) is South Korea&rsquo;s largest third-party social commentary system and has been using it as a comment box for blogs since itwas posted. Individual developers can register a free version of City on the official website, and its integration is simple, loading the following code directly on the blog&rsquo;s JavaScript page:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{{ <span style=color:#a2f;font-weight:700>if</span> and (. IsPage) (isset . Site.Params <span style=color:#b44>&#34;comment&#34;</span>) (eq . Site.Params.Comment <span style=color:#b44>&#34;LiveRe&#34;</span>) }}
<span style=color:#666>&lt;</span>script type<span style=color:#666>=</span><span style=color:#b44>&#34;text/javascript&#34;</span><span style=color:#666>&gt;</span>
(<span style=color:#a2f;font-weight:700>function</span>(d, s) {
     <span style=color:#a2f;font-weight:700>var</span> j, e <span style=color:#666>-</span>getElementsByTagName(s)[<span style=color:#666>0</span>];
     <span style=color:#a2f;font-weight:700>if</span> (<span style=color:#a2f;font-weight:700>typeof</span> LivereTower <span style=color:#666>===</span> <span style=color:#b44>&#39;function&#39;</span>) { <span style=color:#a2f;font-weight:700>return</span>; }
j<span style=color:#666>-</span>d.createElement(s);
     j.src <span style=color:#666>=</span> <span style=color:#b44>&#39;//cdn-city.livere.com/js/embed.dist.js&#39;</span>;
     j.<span style=color:#a2f;font-weight:700>async</span> <span style=color:#666>=</span> <span style=color:#a2f;font-weight:700>true</span>;
     e.parentNode.insertBefore(j, e);
 })(<span style=color:#a2f>document</span>, <span style=color:#b44>&#39;script&#39;</span>);
<span style=color:#666>&lt;</span><span>/script&gt;</span>
{{ end }}
</code></pre></div><p>Then define a Div element where you want to appear in the comment box, as follows:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>{{ if and (isset . Site.Params &#34;comment&#34;) (eq . Site.Params.Comment &#34;LiveRe&#34;) }}
&lt;<span style=color:green;font-weight:700>div</span> <span style=color:#b44>id</span><span style=color:#666>=</span><span style=color:#b44>&#34;lv-container&#34;</span> <span style=color:#b44>data-id</span><span style=color:#666>=</span><span style=color:#b44>&#34;city&#34;</span> <span style=color:#b44>data-uid</span><span style=color:#666>=</span><span style=color:#b44>&#34;{{ . Site.Params.LiveReId }}&#34;</span>&gt;
{{ end }}
</code></pre></div><p>The final effect is as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-LiveRe-comment.png alt="LiveRe Comment"></p>
<h3 id=22-valine>2.2 Valine</h3>
<p><a href=https://valine.js.org/ target=_blank rel=noopener>Valine</a>
, a fast, concise, and efficient back-end review system based on LeanCloud. The official documentation is very detailed and will not be repeated here, with the following results:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-valine-comment.png alt="Valine Comment"></p>
<p>Note that because LeanCloud&rsquo;s SDK references are integrated in TheValine, you no longer need to reference the relevant SDK to use learnCloud features yourself, and then conflict.</p>
<h2 id=3-access-statistics>3. Access statistics</h2>
<p>As a blogger, you&rsquo;re definitely more concerned about access to your space and related data, such as PU and UV traffic, and you can help us collect it with some existing platforms.</p>
<p>Blog Space Access Statistics</p>
<p>Statistics and related data collection for blog space access can be achieved by the likes of CNZZ, Baidu,Google (which may be walled),GrowingIO, etc. (you can also integrate your own familiar platforms), and the buried scripts of these platforms are also supported for integration. This time is mainly integrated CNZZ, Baidu and Google, but the data of these platforms only the station director has permission to view, so the introduction of non-garlic counter, the site PU and UV data public display, the effect is as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-busuanzi-viewers.png alt="Busuanzi Counter"></p>
<p>Article access statistics</p>
<p>In addition to spatial access data, the heat of the article can also be counted, previously using LearnCloud as a background count on NexT, this time with the article counter feature that comes with the Valine comment plug-in above. But considering the possibility of referencing a LiveRe comment plug-in, port the relevant code above the original Hexo and update the latest LearnCloud SDK code to achieve article heat statistics regardless of which comment plug-in you are referring to.</p>
<p>When you add this statistical function, fix the ICON icon associated with the original article.</p>
<h2 id=4-seo-optimization>4. SEO optimization</h2>
<p>In order for the blog space to be better, not only need to write more original works, but also need a certain amount of site SEO optimization support.</p>
<p>4.1 sitemap .xml build</p>
<p>Sitemap file generation is conducive to the site inged platform, Hugo generation sitemap file should pay attention to the file header generation, the overall code is as follows:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml>{{ printf &#34;<span style=color:#080>&lt;?xml version=\&#34;1.0\&#34; encoding=\&#34;utf-8\&#34; standalone=\&#34;yes\&#34; ?&gt;</span>&#34; |  safeHTML }}
<span style=color:green;font-weight:700>&lt;urlset</span>  <span style=color:#b44>xmlns=</span><span style=color:#b44>&#34;http://www.sitemaps.org/schemas/sitemap/0.9&#34;</span><span style=color:green;font-weight:700>&gt;</span>
  {{ range . Data.Pages }}
  <span style=color:green;font-weight:700>&lt;url&gt;</span>
    <span style=color:green;font-weight:700>&lt;loc&gt;</span>{{ . Permalink }}<span style=color:green;font-weight:700>&lt;/loc&gt;</span>
    <span style=color:green;font-weight:700>&lt;lastmod&gt;</span>{{ safeHTML ( . Date.Format &#34;2006-01-02T15:04:05-07:00&#34; ) }}<span style=color:green;font-weight:700>&lt;/lastmod&gt;</span>
    {{ with . Sitemap.ChangeFreq }}
    <span style=color:green;font-weight:700>&lt;changefreq&gt;</span>{{ . }} <span style=color:green;font-weight:700>&lt;/changefreq&gt;</span>
    {{ end }}
    {{ if ge . Sitemap.Priority 0.0 }}
    <span style=color:green;font-weight:700>&lt;priority&gt;</span>{{ . Sitemap.Priority }}<span style=color:green;font-weight:700>&lt;/priority&gt;</span>
    {{ end }}
  <span style=color:green;font-weight:700>&lt;/url&gt;</span>
  {{ end }}
<span style=color:green;font-weight:700>&lt;/urlset&gt;</span>
</code></pre></div><p>Finally, submit this file path to the corresponding ingest platform, such as the following:</p>
<ul>
<li>Baidu: (<a href=https://ziyuan.baidu.com target=_blank rel=noopener>https://ziyuan.baidu.com</a>
/ siteadd? siteurl)</li>
<li>Google: (<a href=https://search.google.com/search-console/welcome target=_blank rel=noopener>https://search.google.com/search-console/welcome</a>
)</li>
</ul>
<p>4.2 bshare share</p>
<p>In addition, through the site&rsquo;s own sharing function, you can quickly share articles to different readers or other platforms. This time using the BShare plug-in, you can quickly generate sharing links from different platforms, readers only need a click to quickly share, the effect is as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-bshare.png alt="Bshare Plugin"></p>
<p>The HTTPS reference issue with BShare is currently resolved through the Meta tag, but several references inside are invalid and output some error messages in the console without affecting rendering of the entire page. This issue has been submitted for BShare feedback and looks forward to further upgrade fixes.</p>
<h2 id=5-introduce-yourself>5. Introduce yourself</h2>
<p>The original NexT theme does not have a self-introduction page, refer to the original Hexo theme in the personal introduction page, add some shortcode code, to achieve a different personal information introduction page from the article, the effect is as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-about-me.png alt="About ME"></p>
<h2 id=6-local-search>6. Local search</h2>
<p>Local search can quickly retrieve relevant content through article titles or content keywords, and the principle is simpler, which is to extract the article title and content into an XML text record, and then read the parsing through the JavaScript script. The implementation in the original theme is parsed through sitemap.xml, but this will conflict with the real sitemap.xml file product, and then use robots.txt files for storage, while correcting related styles and icons such as positively related pop-ups, the final effect is as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-search-in-local.png alt="Local Search"></p>
<h2 id=7-public-service-404>7. Public service 404</h2>
<p>The introduction of Tencent&rsquo;s 404 public welfare page, although there is no traffic on this site, but also hope that in this way so that more separated children can go home as soon as possible.</p>
<h2 id=8-chat-online>8. Chat online</h2>
<p>Comment function can achieve communication with readers, but real-time is not very strong, then online communication is a good way. DaoVoice(<a href=http://blog.daovoice.io/ target=_blank rel=noopener>http://blog.daovoice.io/</a>
) is a great online chat product, but also for free version opportunities, integration is also quite simple, as long as theScript reference place to add the following code:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>
daovoice(<span style=color:#b44>&#39;init&#39;</span>, {
  app_id<span style=color:#666>:</span> <span style=color:#b44>&#34;xxxxx&#34;</span>
});
daovoice(<span style=color:#b44>&#39;update&#39;</span>);


<span style=color:#666>&lt;</span>script<span style=color:#666>&gt;</span>(<span style=color:#a2f;font-weight:700>function</span>(i,s,o,g,r,a,m){i[<span style=color:#b44>&#34;DaoVoiceObject&#34;</span>]<span style=color:#666>=</span>r;i[r]<span style=color:#666>=</span>i[r]<span style=color:#666>||</span> <span style=color:#a2f;font-weight:700>function</span>(){(i[r].q<span style=color:#666>=</span>i[r].q<span style=color:#666>||</span> []).push(arguments)},i[r].l<span style=color:#666>=</span><span style=color:#666>1</span><span style=color:#666>*</span><span style=color:#a2f;font-weight:700>new</span> <span style=color:#a2f>Date</span>();a<span style=color:#666>=</span>s.createElement(o),m<span style=color:#666>=</span>s.getElementsByTagName(o)[<span style=color:#666>0</span>];a.<span style=color:#a2f;font-weight:700>async</span><span style=color:#666>=</span><span style=color:#666>1</span>;a.src<span style=color:#666>=</span>g;a.charset<span style=color:#666>=</span><span style=color:#b44>&#34;utf-8&#34;</span>;m.parentNode.insertBefore(a,m)})(<span style=color:#a2f>window</span>,<span style=color:#a2f>document</span>,<span style=color:#b44>&#34;script&#34;</span>,(<span style=color:#b44>&#39;https:&#39;</span> <span style=color:#666>==</span> <span style=color:#a2f>document</span>.location.protocol <span style=color:#666>?</span> <span style=color:#b44>&#39;https:&#39;</span><span style=color:#666>:</span><span style=color:#b44>&#39;http:&#39;</span>) <span style=color:#666>+</span> <span style=color:#b44>&#34;//widget.daovoice.io/widget/xxxxx. js&#34;</span>,<span style=color:#b44>&#34;daovoice&#34;</span>)<span style=color:#666>&lt;</span><span>/script&gt;</span>

</code></pre></div><p>The results are as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-daovoice.png alt=DaoVoice></p>
<h2 id=9-picture-browsing>9. Picture browsing</h2>
<p>By directly referencing the picture in the article will be compressed, or zoomed out, can not see the original image clear. Previously NextT&rsquo;s own picture browsing plug-in wasn&rsquo;t very useful, so replacing it with ImageViewer for image browsing within the article would have a slide-like effect, as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2020/10-02-hugo-next-imageviewer.png alt=ImageViewer></p>
<h2 id=10-other-optimizations>10. Other optimizations</h2>
<p>For HTTPS traffic billing reasons, all unrelated factors on the page are excluded, various JavaScript class libraries and CSS styles are replaced with CDN links, and compression mode is turned on to make web pages smaller.</p>
<p>In addition, the addition of tag cloud, 3D access display, reward function, fix display problems and other small details of theprocessing, so that the entire blog site features look more complete.</p>
<p>Finally, the effect of the whole station, as you can see now, still maintains the refreshing interface style of the NexT theme.</p>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=/en/tags/next rel=tag title=NexT>#NexT#</a>
<a href=/en/tags/blog rel=tag title=Blog>#Blog#</a>
</div>
<div class=addthis_inline_share_toolbox></div>
<div class=post-nav>
<div class=article-copyright>
<div class=article-copyright-img>
<img src=/img/qq_qrcode.png width=129px height=129px>
<div style=text-align:center>QQ QrCode</div>
</div>
<div class=article-copyright-info>
<p>
<span>Declaration：</span>The process of optimizing the Hugo Next theme
</p>
<p>
<span>Link：</span>https://lisenhui.cn/en/2020/10/02/make-next-theme-pithy.html
</p>
<p>
<span>Author：</span>Elkan.Li
</p>
<p>
<span>Declaration： </span>This blog post article is under the <a href=https://creativecommons.org/licenses/by-nc-sa/3.0/ target=_blank style=text-decoration:underline>CC BY-NC-SA 3.0</a> license,Please indicate the source!
</p>
</div>
</div>
<div class=clear></div>
</div>
<div class=reward-qr-info>
<div>If it can help you, you can give tips for blogger that how much you want. ^_^</div>
<button id=rewardButton disable=enable onclick="var qr=document.getElementById('QR');qr.style.display==='none'?qr.style.display='block':qr.style.display='none'">
<span>Reward</span>
</button>
<div id=QR style=display:none>
<div id=wechat style=display:inline-block>
<img id=wechat_qr src=/img/wechat-pay.png alt="WeChat Pay">
<p>Wechat Pay</p>
</div>
<div id=alipay style=display:inline-block>
<img id=alipay_qr src=/img/ali-pay.png alt=Alipay>
<p>Ali Pay</p>
</div>
</div>
</div>
<div class=post-nav>
<div class="post-nav-next post-nav-item">
<a href=https://lisenhui.cn/en/2021/01/24/github-personal-profile-card.html rel=next title="Github personal card">
<i class="fa fa-chevron-left"></i> Github personal card
</a>
</div>
<div class="post-nav-prev post-nav-item">
<a href=https://lisenhui.cn/en/2020/09/28/install-cdh-issues-notes.html rel=prev title="Several pit records during CDH6 installation">
Several pit records during CDH6 installation
<i class="fa fa-chevron-right"></i>
</a>
</div>
</div>
<div id=wcomments></div>
</footer>
</article>
</section>
</div>
</div>
</div>
</main>
<footer id=footer class=footer>
<div class=footer-inner>
<div class=copyright>
<span class=copyright-year>
&copy; 2010 - 2022
</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=copyright-author>Loving life and dreams.</span>
</div>
<div class=powered-info>
<span class=powered-by>
Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.87.0</a>
</span>
<span class=separator-line>/</span>
<span class=theme-info>
Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank> NexT
</a>
</span>
</div>
<div class=vistor-info>
<span class=cnzz_icon id=cnzz_stat_icon_1279205305>
<a href="//www.cnzz.com/stat/website.php?web_id=1279205305" target=_blank title=站长统计>
<img border=0 hspace=0 vspace=0 src=//icon.cnzz.com/img/pic1.gif>
</a>
</span>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,a.charset='utf-8',a.src='https://s4.cnzz.com/z_stat.php?id=1279205305&show=pic1',b=document.getElementsByTagName('script')[0],b.parentNode.insertBefore(a,b)})()</script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span class=site-uv>
<i class="fa fa-user"></i>
<span class=busuanzi-value id=busuanzi_value_site_uv></span>
</span>
<span class=separator-line>/</span>
<span class=site-pv>
<i class="fa fa-eye"></i>
<span class=busuanzi-value id=busuanzi_value_site_pv></span>
</span>
</div>
<div class=license-info>
<span class=storage-info>
Storage by
<a href=https://gitee.com/ style=font-weight:700 target=_blank>Gitee Repository</a>
</span>
<span class=separator-line>/</span>
<span class=license-num>
<a href=http://beian.miit.gov.cn target=_blank>ICP.NO 18047355</a>
</span>
</div>
</div>
</footer>
<div class=back-to-top>
<i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span>
</div>
</div>
<script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script type=text/javascript src=https://lisenhui.cn/js/search.js></script>
<script type=text/javascript src=https://lisenhui.cn/js/affix.js></script>
<script type=text/javascript src=https://lisenhui.cn/js/scrollspy.js></script>
<script type=text/javascript>function detectIE(){var a=window.navigator.userAgent,b=a.indexOf('MSIE '),c=a.indexOf('Trident/'),d=a.indexOf('Edge/');return b>0||c>0||d>0?-1:1}function getCntViewHeight(){var b=$('#content').height(),a=$(window).height(),c=b>a?b-a:$(document).height()-a;return c}function getScrollbarWidth(){var a=$('<div />').addClass('scrollbar-measure').prependTo('body'),b=a[0],c=b.offsetWidth-b.clientWidth;return a.remove(),c}function registerBackTop(){var b=50,a=$('.back-to-top');$(window).on('scroll',function(){var d,e,f,c,g;a.toggleClass('back-to-top-on',window.pageYOffset>b),d=$(window).scrollTop(),e=getCntViewHeight(),f=d/e,c=Math.round(f*100),g=c>100?100:c,$('#scrollpercent>span').html(g)}),a.on('click',function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){var a='.post-toc',d=$(a),b='.active-current';d.on('activate.bs.scrollspy',function(){var b=$(a+' .active').last();c(),b.addClass('active-current')}).on('clear.bs.scrollspy',c),$('body').scrollspy({target:a});function c(){$(a+' '+b).removeClass(b.substring(1))}}function initAffix(){var a=$('.header-inner').height(),b=parseInt($('.main').css('padding-bottom'),10),c=a+10;$('.sidebar-inner').affix({offset:{top:c,bottom:b}}),$(document).on('affixed.bs.affix',function(){updateTOCHeight(document.body.clientHeight-100)})}function initTOCDimension(){var a,b;$(window).on('resize',function(){a&&clearTimeout(a),a=setTimeout(function(){var a=document.body.clientHeight-100;updateTOCHeight(a)},0)}),updateTOCHeight(document.body.clientHeight-100),b=getScrollbarWidth(),$('.post-toc').css('width','calc(100% + '+b+'px)')}function updateTOCHeight(a){a=a||'auto',$('.post-toc').css('max-height',a)}$(function(){var b=$('.header-inner').height()+10,c,d,a,e;$('#sidebar').css({'margin-top':b}).show(),c=parseInt($('#sidebar').css('margin-top')),d=parseInt($('.sidebar-inner').css('height')),a=c+d,e=$('.content-wrap').height(),e<a&&$('.content-wrap').css('min-height',a),$('.site-nav-toggle').on('click',function(){var a=$('.site-nav'),e=$('.toggle'),b='site-nav-on',f='toggle-close',c=a.hasClass(b),g=c?'slideUp':'slideDown',d=c?'removeClass':'addClass';a.stop()[g]('normal',function(){a[d](b),e[d](f)})}),registerBackTop(),initScrollSpy(),initAffix(),initTOCDimension(),$('.sidebar-nav-toc').click(function(){$(this).addClass('sidebar-nav-active'),$(this).next().removeClass('sidebar-nav-active'),$('.'+$(this).next().attr('data-target')).toggle(500),$('.'+$(this).attr('data-target')).toggle(500)}),$('.sidebar-nav-overview').click(function(){$(this).addClass('sidebar-nav-active'),$(this).prev().removeClass('sidebar-nav-active'),$('.'+$(this).prev().attr('data-target')).toggle(500),$('.'+$(this).attr('data-target')).toggle(500)})})</script>
<script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script>
<script type=text/javascript>$(function(){$('.post-body').viewer()})</script>
<script type=text/javascript>const locale={placeholder:'Just do what you want leave here, and don\u0027t forget give your email to make exchange. ^_^'};$(function(){detectIE()>0?$.getScript(document.location.protocol+'//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js',function(){new Waline({el:'#wcomments',visitor:!0,emoji:['https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq','https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/alus','https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili'],wordLimit:'200',uploadImage:!1,locale,requiredMeta:['nick','mail'],serverURL:"https://waline.lisenhui.cn",lang:"en"})}):$('#wcomments').html('Sorry, Waline plugin doesn\u0027t support IE or Edge, Please swithc to Chrome browser.')})</script>
<script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6049e46e9ee22127"></script>
<script>(function(){var a=document.createElement('script'),c=window.location.protocol.split(':')[0],b;c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
<script type=text/javascript>$(function(){var b,a;document.body.clientWidth>900&&(b=document.getElementsByTagName('HEAD').item(0),a=document.createElement("script"),a.type="text/javascript",a.innerHTML='(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",(\'https:\' == document.location.protocol ? \'https:\' : \'http:\') + "//widget.daovoice.io/widget/f89653b8.js","daovoice")',b.appendChild(a),daovoice('init',{app_id:"f89653b8"}),daovoice('update'))})</script>
</body>
</html>