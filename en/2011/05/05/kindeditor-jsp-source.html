<!doctype html><html lang=en dir=content/en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=content-security-policy content="upgrade-insecure-requests">
<title> Open JSP KindEditor's attachment JAR package source code - Loving life and dreams. </title>
<meta name=keywords content="Blog,Software,Big Data,Product,Architecture,Java,Kylin">
<meta name=author content="Elkan.Li">
<meta property="og:title" content="Open JSP KindEditor's attachment JAR package source code">
<meta property="og:site_name" content="Loving life and dreams.">
<meta property="og:image" content="https://lisenhui.cn/img/author.jpg">
<meta name=title content="Open JSP KindEditor's attachment JAR package source code - Loving life and dreams.">
<meta name=description content="Weclome to Elkan's blog site that who is best on program develop, pre-sales and big data.">
<link rel="shortcut icon" href=https://lisenhui.cn/img/favicon.ico>
<link rel=apple-touch-icon href=https://lisenhui.cn/img/apple-touch-icon.png>
<link rel=apple-touch-icon-precomposed href=https://lisenhui.cn/img/apple-touch-icon.png>
<link href=//cdn.bootcdn.net/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css rel=stylesheet type=text/css>
<link href=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.css rel=stylesheet>
<link href=https://lisenhui.cn/css/main.css rel=stylesheet type=text/css>
<link href=https://lisenhui.cn/css/syntax.css rel=stylesheet type=text/css>
<script type=text/javascript>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?9b021cbfb58b35e79012f9690de1c6ab",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
</head>
<body itemscope itemtype=http://schema.org/WebPage lang=zh-hans>
<div class="container one-collumn sidebar-position-left page-home">
<div class=headband></div>
<header id=header class=header itemscope itemtype=http://schema.org/WPHeader>
<div class=header-inner> <div class=site-brand-container>
<div class=site-nav-toggle>
<div class=toggle role=button style=opacity:1;top:0>
<span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span>
</div>
</div>
<div class=site-meta>
<div class=multi-lang-switch>
<i class="fa fa-fw fa-language" style=margin-right:5px></i>
<a class=lang-link id=zh-cn href=https://lisenhui.cn/2011/05/05/kindeditor-jsp-source.html>中文</a>
<span class=lang-line> / </span>
<a class=lang-link id=en href=#>English</a>
</div>
<div class=custom-logo-site-title>
<a href=/en/ class=brand rel=start>
<span class=logo-line-before><i></i></span>
<span class=site-title>Loving life and dreams.</span>
<span class=logo-line-after><i></i></span>
</a>
</div>
<p class=site-subtitle>Don't stop running forward!</p>
</div>
<div class=site-nav-right>
<div class="toggle popup-trigger" style=opacity:1;top:0>
<i class="fa fa-search fa-fw fa-lg"></i>
</div>
</div>
</div>
<nav class=site-nav>
<ul id=menu class=menu>
<div style=display:none>https://lisenhui.cn/en/2011/05/05/kindeditor-jsp-source.html, /en/2011/05/05/kindeditor-jsp-source.html, /</div>
<li class=menu-item>
<a href=/en/ rel=section>
<i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home
</a>
<div style=display:none></div>
</li>
<div style=display:none>https://lisenhui.cn/en/2011/05/05/kindeditor-jsp-source.html, /en/2011/05/05/kindeditor-jsp-source.html, post</div>
<li class=menu-item>
<a href=/en/post rel=section>
<i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archive
</a>
<div style=display:none></div>
</li>
<div style=display:none>https://lisenhui.cn/en/2011/05/05/kindeditor-jsp-source.html, /en/2011/05/05/kindeditor-jsp-source.html, about.html</div>
<li class=menu-item>
<a href=/en/about.html rel=section>
<i class="menu-item-icon fa fa-fw fa-user"></i> <br>About
</a>
<div style=display:none></div>
</li>
<div style=display:none>https://lisenhui.cn/en/2011/05/05/kindeditor-jsp-source.html, /en/2011/05/05/kindeditor-jsp-source.html, /404.html</div>
<li class=menu-item>
<a href=/en/404.html rel=section target=_blank>
<i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>Page404
</a>
<div style=display:none></div>
</li>
<li class="menu-item menu-item-search">
<a href=javascript:; class=popup-trigger> <i class="menu-item-icon fa fa-search fa-fw"></i> <br> Search</a>
</li>
</ul>
<div class=site-search>
<div class="popup search-popup local-search-popup">
<div class="local-search-header clearfix">
<span class=search-icon><i class="fa fa-search"></i> </span>
<span class=popup-btn-close><i class="fa fa-times-circle"></i></span>
<div class=local-search-input-wrapper>
<input autocomplete=off placeholder="Enter key words..." spellcheck=false type=text id=local-search-input autocapitalize=none autocorrect=off>
</div>
</div>
<div id=local-search-result></div>
</div>
</div>
</nav> </div>
</header>
<main id=main class=main>
<div class=sidebar-toggle>
<div class=sidebar-toggle-line-wrap>
<span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
</div>
</div>
<aside id=sidebar class=sidebar>
<div class=sidebar-inner>
<section class="site-overview sidebar-panel sidebar-panel-active">
<div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person>
<img class=site-author-image itemprop=image src=/img/avatar.png alt=Elkan.Li>
<p class=site-author-name itemprop=name>Elkan.Li</p>
<p class="site-description motion-element" itemprop=description>
Never forget your dreams！
</p>
</div>
<nav class="site-state motion-element">
<div class="site-state-item site-state-posts">
<a href=/en/post/>
<span class=site-state-item-count>56</span>
<span class=site-state-item-name>Blogs</span>
</a>
</div>
<div class="site-state-item site-state-categories">
<a href=/en/categories/>
<span class=site-state-item-count>27</span>
<span class=site-state-item-name>Categories</span>
</a>
</div>
<div class="site-state-item site-state-tags">
<a href=/en/tags/>
<span class=site-state-item-count>65</span>
<span class=site-state-item-name>Tags</span>
</a>
</div>
</nav>
<div class="links-of-author motion-element">
<span class=links-of-author-item>
<a href=https://github.com/elkan1788/ target=_blank title=GitHub>
<i class="fa fa-fw fa-github"></i>
GitHub
</a>
</span>
<span class=links-of-author-item>
<a href=https://www.zhihu.com/people/fan-meng-xing-chen-1 target=_blank title=ZhiHu>
<i class="fa fa-fw fa-globe"></i>
ZhiHu
</a>
</span>
</div>
<div class="links-of-blogroll motion-element links-of-blogroll-inline">
<div class=links-of-blogroll-title>
<i class="fa fa-fw fa-globe"></i>
Links
</div>
<ul class=links-of-blogroll-list>
<li class=links-of-blogroll-item>
<a href=https://nutzam.com/ title=Nutz target=_blank>Nutz</a>
</li>
<li class=links-of-blogroll-item>
<a href=https://jfinal.com/ title=JFinal target=_blank>JFinal</a>
</li>
<li class=links-of-blogroll-item>
<a href=http://wendal.net/ title=Wendal target=_blank>Wendal</a>
</li>
<li class=links-of-blogroll-item>
<a href=https://www.liaoxuefeng.com/ title=LiaoXueFeng target=_blank>LiaoXueFeng</a>
</li>
<li class=links-of-blogroll-item>
<a href=http://lanlingzi.cn/ title=Lanlingzi target=_blank>Lanlingzi</a>
</li>
<li class=links-of-blogroll-item>
<a href=https://zhaohaiyu.com/ title="haiyux's blog" target=_blank>haiyux's blog</a>
</li>
<li class=links-of-blogroll-item>
<a href=https://blog.zhheo.com/ title="ZH's Heo" target=_blank>ZH's Heo</a>
</li>
</ul>
</div>
<div class="tagcloud-of-blogroll motion-element tagcloud-of-blogroll-inline">
<div class=tagcloud-of-blogroll-title>
<i class="fa fa-fw fa-tags"></i>
TagCloud
</div>
<ul class=tagcloud-of-blogroll-list>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/big-data>Big data
<sup>13</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/java>Java
<sup>5</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/linux>Linux
<sup>5</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/blog>Blog
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/git>Git
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/github>Github
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/kindeditor>Kindeditor
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/python>Python
<sup>4</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/axure>Axure
<sup>3</sup>
</a>
</li>
<li class=tagcloud-of-blogroll-item>
<a href=/en/tags/front>Front
<sup>3</sup>
</a>
</li>
</ul>
</div>
<div class="links-of-blogroll motion-element inline">
<script type=text/javascript src="//rf.revolvermaps.com/0/0/6.js?i=5s83wolvn69&m=7&c=e63100&cr1=ffffff&f=arial&l=0&bv=90&lx=-420&ly=420&hi=20&he=7&hc=a8ddff&rs=80" async></script>
</div>
</section>
</div>
</aside>
<div class=main-inner>
<div class=content-wrap>
<div id=content class=content>
<section id=posts class=posts-expand>
<article class="post post-type-normal" itemscope itemtype=http://schema.org/Article>
<header class=post-header>
<h1 class=post-title itemprop="name headline">
<a class=post-title-link href=https://lisenhui.cn/en/2011/05/05/kindeditor-jsp-source.html itemprop=url>
Open JSP KindEditor's attachment JAR package source code
</a>
</h1>
<div class=post-meta>
<span class=post-time>
<i class="fa fa-calendar-o fa-fw"></i>
<span class=post-meta-item-text>Published at:</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2011-05-05">
2011-05-05
</time>
</span>
<span class=post-category>
&nbsp; | &nbsp;
<i class="fa fa-folder-o fa-fw"></i>
<span class=post-meta-item-text>Categories:</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing>
<a class=post-category-a href=/en/categories/kindeditor itemprop=url rel=index>
<span itemprop=name>KindEditor</span>
</a>
&nbsp;
</span>
</span>
<span>
|
<i class="fa fa-file-word-o fa-fw"></i>
<span class=post-meta-item-text>Words:</span>
<span class=leancloud-world-count>742 words</span>
</span>
<span>
|
<i class="fa fa-eye fa-fw"></i>
<span class=post-meta-item-text>Reading:</span>
<span class=leancloud-view-count>4 minutes</span>
</span>
<span id=/en/2011/05/05/kindeditor-jsp-source.html class=leancloud_visitors data-flag-title="Open JSP KindEditor's attachment JAR package source code">
|
<i class="fa fa-binoculars fa-fw"></i>
<span class=post-meta-item-text>Visited:</span>
<span class=leancloud-visitors-count></span>
</span>
</div>
</header>
<div class=post-body itemprop=articleBody>
<p>I didn&rsquo;t expect the response to be so strong when I wrote a JSP version of kindeditor editor in March. However, with the growth of the day and month, this version of the plug-in also exposed some BUG, such as: Struts2 how to integrate, web.xml file configuration upload properties inconvenient to modify and cumbersome, upload pictures (attachments) can not be saved in other disks &mldr; &mldr;&mldr; 。 Now usually developed projects are using KE as an online editor, in order to be better and more convenient to use this editor, in the rest of the time to refactor the original code re-encapsulation, in addition to the previous version of the BUG, but also unified the overall naming specifications, added some new features.</p>
<p>The version number of the current version of the plug-in is:Kindeditor-plugin0.4RELEASE, and the list of classes in the JAR package is as follows:</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2011/05-05-kindeditor-jsp-ss-1.png alt=kindeditor-jsp-ss-1></p>
<p>The main functions accomplished by this refactoring are the following:
:: Reconstruct the selection button of upload attachment page press, imitation image upload;
:: Increased Struts2 environmental integration;
:: Increase the upload property configuration function to facilitate the site to be modified (not yet open);
:: Add other disk storage functions, free choice of storage location for easy backup (not yet open);
:: Add the text watermark function of the image (not yet open);
:: More Kindeditor edited version for 3.5.6;
:: Upload attachment classification management</p>
<p>If you want to apply this KE plug-in to your project, it&rsquo;s simple, if the servlet environment takes only one step, the Struts2 environment requires two steps, as follows:</p>
<ol>
<li>Servlet environment: You only need to configure .xml parameters in the web environment</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml>
<span style=color:#080>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:green;font-weight:700>&lt;web-app</span> <span style=color:#b44>version=</span><span style=color:#b44>&#34;2.5&#34;</span> <span style=color:#b44>xmlns=</span><span style=color:#b44>&#34;http://java.sun.com/xml/ns/javaee&#34;</span>
 <span style=color:#b44>xmlns:xsi=</span><span style=color:#b44>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
 <span style=color:#b44>xsi:schemaLocation=</span><span style=color:#b44>&#34;http://java.sun.com/xml/ns/javaee   http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&#34;</span><span style=color:green;font-weight:700>&gt;</span> 
 <span style=color:green;font-weight:700>&lt;servlet&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-name&gt;</span>KEUploadImgServlet<span style=color:green;font-weight:700>&lt;/servlet-name&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-class&gt;</span>com.elkan.kindeditor.servlet.plugin.KEUploadImgServlet<span style=color:green;font-weight:700>&lt;/servlet-class&gt;</span>
   <span style=color:green;font-weight:700>&lt;init-param&gt;</span>
     <span style=color:green;font-weight:700>&lt;param-name&gt;</span>IMGSAVEPATH<span style=color:green;font-weight:700>&lt;/param-name&gt;</span>
     <span style=color:green;font-weight:700>&lt;param-value&gt;</span>/upload/image/<span style=color:green;font-weight:700>&lt;/param-value&gt;</span>
   <span style=color:green;font-weight:700>&lt;/init-param&gt;</span>
   <span style=color:#080;font-style:italic>&lt;!-- 
</span><span style=color:#080;font-style:italic>   By default, pass the picture size
</span><span style=color:#080;font-style:italic>   &lt;init-param&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-name&gt;MAXSIZE&lt;/param-name&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-value&gt;1048576&lt;/param-value&gt;
</span><span style=color:#080;font-style:italic>   &lt;/init-param&gt;
</span><span style=color:#080;font-style:italic>   The type of picture passed on by default
</span><span style=color:#080;font-style:italic>   &lt;init-param&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-name&gt;IMGTYPES&lt;/param-name&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-value&gt;jpg,jpeg,png,gif,bmp&lt;/param-value&gt;
</span><span style=color:#080;font-style:italic>   &lt;/init-param&gt;
</span><span style=color:#080;font-style:italic>   The picture is not compressed by default
</span><span style=color:#080;font-style:italic>   &lt;init-param&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-name&gt;MAXWIDTH&lt;/param-name&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-value&gt;&lt;/param-value&gt;
</span><span style=color:#080;font-style:italic>   &lt;/init-param&gt;
</span><span style=color:#080;font-style:italic>   &lt;init-param&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-name&gt;MAXHEIGHT&lt;/param-name&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-value&gt;&lt;/param-value&gt;
</span><span style=color:#080;font-style:italic>   &lt;/init-param&gt;
</span><span style=color:#080;font-style:italic>    --&gt;</span>
 <span style=color:green;font-weight:700>&lt;/servlet&gt;</span>
 <span style=color:green;font-weight:700>&lt;servlet&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-name&gt;</span>KEManageImgServlet<span style=color:green;font-weight:700>&lt;/servlet-name&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-class&gt;</span>com.elkan.kindeditor.servlet.plugin.KEManageImgServlet<span style=color:green;font-weight:700>&lt;/servlet-class&gt;</span>
   <span style=color:green;font-weight:700>&lt;init-param&gt;</span>
     <span style=color:green;font-weight:700>&lt;param-name&gt;</span>IMGSAVEPATH<span style=color:green;font-weight:700>&lt;/param-name&gt;</span>
     <span style=color:green;font-weight:700>&lt;param-value&gt;</span>/upload/image/<span style=color:green;font-weight:700>&lt;/param-value&gt;</span>
   <span style=color:green;font-weight:700>&lt;/init-param&gt;</span>
 <span style=color:green;font-weight:700>&lt;/servlet&gt;</span>
 <span style=color:green;font-weight:700>&lt;servlet&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-name&gt;</span>KEUploadAttachServlet<span style=color:green;font-weight:700>&lt;/servlet-name&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-class&gt;</span>com.elkan.kindeditor.servlet.plugin.KEUploadAttachServlet<span style=color:green;font-weight:700>&lt;/servlet-class&gt;</span>
   <span style=color:green;font-weight:700>&lt;init-param&gt;</span>
     <span style=color:green;font-weight:700>&lt;param-name&gt;</span>ATTACHSAVEPATH<span style=color:green;font-weight:700>&lt;/param-name&gt;</span>
     <span style=color:green;font-weight:700>&lt;param-value&gt;</span>/upload/attach/<span style=color:green;font-weight:700>&lt;/param-value&gt;</span>
   <span style=color:green;font-weight:700>&lt;/init-param&gt;</span>
   <span style=color:#080;font-style:italic>&lt;!-- 
</span><span style=color:#080;font-style:italic>   Upload attachment size by default
</span><span style=color:#080;font-style:italic>   &lt;init-param&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-name&gt;MAXSIZE&lt;/param-name&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-value&gt;10485760&lt;/param-value&gt;
</span><span style=color:#080;font-style:italic>   &lt;/init-param&gt;
</span><span style=color:#080;font-style:italic>   The attachment type is uploaded by default
</span><span style=color:#080;font-style:italic>   &lt;init-param&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-name&gt;ATTACHTYPES&lt;/param-name&gt;
</span><span style=color:#080;font-style:italic>     &lt;param-value&gt;**&lt;/param-value&gt;
</span><span style=color:#080;font-style:italic>   &lt;/init-param&gt;
</span><span style=color:#080;font-style:italic>    --&gt;</span>
 <span style=color:green;font-weight:700>&lt;/servlet&gt;</span>
 <span style=color:green;font-weight:700>&lt;servlet-mapping&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-name&gt;</span>KEUploadImgServlet<span style=color:green;font-weight:700>&lt;/servlet-name&gt;</span>
   <span style=color:green;font-weight:700>&lt;url-pattern&gt;</span>/keplugin/KEUploadImg.servlet<span style=color:green;font-weight:700>&lt;/url-pattern&gt;</span>
 <span style=color:green;font-weight:700>&lt;/servlet-mapping&gt;</span>
 <span style=color:green;font-weight:700>&lt;servlet-mapping&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-name&gt;</span>KEManageImgServlet<span style=color:green;font-weight:700>&lt;/servlet-name&gt;</span>
   <span style=color:green;font-weight:700>&lt;url-pattern&gt;</span>/keplugin/KEManageImages.servlet<span style=color:green;font-weight:700>&lt;/url-pattern&gt;</span>
 <span style=color:green;font-weight:700>&lt;/servlet-mapping&gt;</span>
 <span style=color:green;font-weight:700>&lt;servlet-mapping&gt;</span>
   <span style=color:green;font-weight:700>&lt;servlet-name&gt;</span>KEUploadAttachServlet<span style=color:green;font-weight:700>&lt;/servlet-name&gt;</span>
   <span style=color:green;font-weight:700>&lt;url-pattern&gt;</span>/keplugin/KEUploadAttach.servlet<span style=color:green;font-weight:700>&lt;/url-pattern&gt;</span>
 <span style=color:green;font-weight:700>&lt;/servlet-mapping&gt;</span>
 <span style=color:green;font-weight:700>&lt;welcome-file-list&gt;</span>
   <span style=color:green;font-weight:700>&lt;welcome-file&gt;</span>index.jsp<span style=color:green;font-weight:700>&lt;/welcome-file&gt;</span>
 <span style=color:green;font-weight:700>&lt;/welcome-file-list&gt;</span>
 <span style=color:green;font-weight:700>&lt;login-config&gt;</span>
   <span style=color:green;font-weight:700>&lt;auth-method&gt;</span>BASIC<span style=color:green;font-weight:700>&lt;/auth-method&gt;</span>
 <span style=color:green;font-weight:700>&lt;/login-config&gt;</span>
<span style=color:green;font-weight:700>&lt;/web-app&gt;</span>

</code></pre></div><p>KindEditor JS script configuration on the Jsp page:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>
KE.show({
 id<span style=color:#666>:</span> <span style=color:#b44>&#34;editorServlet&#34;</span>,
 resizeMode<span style=color:#666>:</span> <span style=color:#666>0</span>,
 allowFileManager <span style=color:#666>:</span> <span style=color:#a2f;font-weight:700>true</span>,
 imageUploadJson<span style=color:#666>:</span> <span style=color:#b44>&#34;/KEPlugin/keplugin/KEUploadImg.servlet&#34;</span>,
       fileManagerJson<span style=color:#666>:</span> <span style=color:#b44>&#34;/KEPlugin/keplugin/KEManageImages.servlet&#34;</span>,
 The <span style=color:#a2f;font-weight:700>default</span> is . . . <span style=color:#a2f;font-weight:700>for</span> all types <span style=color:#a2f;font-weight:700>of</span> files
 <span style=color:#080;font-style:italic>//accessoryTypes: &#34;doc|docx&#34;,
</span><span style=color:#080;font-style:italic></span> accessoryUploadJson<span style=color:#666>:</span> <span style=color:#b44>&#34;/KEPlugin/keplugin/KEUploadAttach.servlet&#34;</span>        
});

</code></pre></div><ol start=2>
<li>Struts2 environment: Configure Struts2 .xml web environment first, as follows:</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml>
<span style=color:#080>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:green;font-weight:700>&lt;web-app</span> <span style=color:#b44>version=</span><span style=color:#b44>&#34;2.5&#34;</span> <span style=color:#b44>xmlns=</span><span style=color:#b44>&#34;http://java.sun.com/xml/ns/javaee&#34;</span> <span style=color:#b44>xmlns:xsi=</span><span style=color:#b44>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> <span style=color:#b44>xsi:schemalocation=</span><span style=color:#b44>&#34;http://java.sun.com/xml/ns/javaee   http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&#34;</span><span style=color:green;font-weight:700>&gt;</span>
  <span style=color:green;font-weight:700>&lt;filter&gt;</span>
    <span style=color:green;font-weight:700>&lt;filter-name&gt;</span>struts2<span style=color:green;font-weight:700>&lt;/filter-name&gt;</span>
    <span style=color:green;font-weight:700>&lt;filter-class&gt;</span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span style=color:green;font-weight:700>&lt;/filter-class&gt;</span>  
  <span style=color:green;font-weight:700>&lt;/filter&gt;</span>
  <span style=color:green;font-weight:700>&lt;filter-mapping&gt;</span>
    <span style=color:green;font-weight:700>&lt;filter-name&gt;</span>struts2<span style=color:green;font-weight:700>&lt;/filter-name&gt;</span>
    <span style=color:green;font-weight:700>&lt;url-pattern&gt;</span>*.action<span style=color:green;font-weight:700>&lt;/url-pattern&gt;</span>
  <span style=color:green;font-weight:700>&lt;/filter-mapping&gt;</span>
  <span style=color:green;font-weight:700>&lt;welcome-file-list&gt;</span>
    <span style=color:green;font-weight:700>&lt;welcome-file&gt;</span>index.jsp<span style=color:green;font-weight:700>&lt;/welcome-file&gt;</span>
  <span style=color:green;font-weight:700>&lt;/welcome-file-list&gt;</span>
<span style=color:green;font-weight:700>&lt;/web-app&gt;</span>

</code></pre></div><p>Struts .xml file configuration as follows: (If an interceptor is set, please set the interceptor to allow ACTION by type KEStruts2Plugin)</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml>
<span style=color:#080;font-style:italic>&lt;!--?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?--&gt;</span>

<span style=color:green;font-weight:700>&lt;struts&gt;</span>
  <span style=color:green;font-weight:700>&lt;constant</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;struts.i18n.encoding&#34;</span> <span style=color:#b44>value=</span><span style=color:#b44>&#34;UTF-8&#34;</span><span style=color:green;font-weight:700>&gt;&lt;/constant&gt;</span>
  <span style=color:green;font-weight:700>&lt;constant</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;struts.action.extension&#34;</span> <span style=color:#b44>value=</span><span style=color:#b44>&#34;action&#34;</span><span style=color:green;font-weight:700>&gt;&lt;/constant&gt;</span>
  <span style=color:green;font-weight:700>&lt;constant</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;struts.configuration.xml.reload&#34;</span> <span style=color:#b44>value=</span><span style=color:#b44>&#34;true&#34;</span><span style=color:green;font-weight:700>&gt;&lt;/constant&gt;</span>
  <span style=color:green;font-weight:700>&lt;constant</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;struts.multipart.saveDir&#34;</span> <span style=color:#b44>value=</span><span style=color:#b44>&#34;\temp&#34;</span><span style=color:green;font-weight:700>&gt;&lt;/constant&gt;</span>
  <span style=color:green;font-weight:700>&lt;constant</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;struts.multipart.maxSize&#34;</span> <span style=color:#b44>value=</span><span style=color:#b44>&#34;104857600&#34;</span><span style=color:green;font-weight:700>&gt;&lt;/constant&gt;</span>

  <span style=color:green;font-weight:700>&lt;package</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;KEPlugin&#34;</span> <span style=color:#b44>extends=</span><span style=color:#b44>&#34;struts-default&#34;</span> <span style=color:#b44>namespace=</span><span style=color:#b44>&#34;/keplugin&#34;</span><span style=color:green;font-weight:700>&gt;</span>
    <span style=color:green;font-weight:700>&lt;action</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;keUploadImg&#34;</span> <span style=color:#b44>class=</span><span style=color:#b44>&#34;com.elkan.kindeditor.struts2.plugin.KEUploadImgAction&#34;</span><span style=color:green;font-weight:700>&gt;</span>
      The default !-- does not compress the picture --
      <span style=color:#080;font-style:italic>&lt;!--&lt;param name=&#34;maxWidth&#34;&gt;&lt;/param&gt;--&gt;</span>
      <span style=color:#080;font-style:italic>&lt;!--&lt;param name=&#34;maxHeight&#34;&gt;&lt;/param&gt;--&gt;</span>
      The !-- upload image size by default
      <span style=color:#080;font-style:italic>&lt;!--&lt;param name=&#34;maxSize&#34;&gt;102400&lt;/param&gt;--&gt;</span>
      The default !-- is jpg, jpeg, png, gif, bmp type picture --
      <span style=color:#080;font-style:italic>&lt;!--&lt;param name=&#34;imgTypes&#34;&gt;jpg,jpeg,png,gif,bmp&lt;/param&gt;--&gt;</span>
      <span style=color:green;font-weight:700>&lt;param</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;imgSavePath&#34;</span><span style=color:green;font-weight:700>&gt;</span>/upload/image/<span style=color:green;font-weight:700>&lt;/param&gt;</span>
    <span style=color:green;font-weight:700>&lt;/action&gt;</span>
    <span style=color:green;font-weight:700>&lt;action</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;keUploadAttach&#34;</span> <span style=color:#b44>class=</span><span style=color:#b44>&#34;com.elkan.kindeditor.struts2.plugin.KEUploadAttachAction&#34;</span><span style=color:green;font-weight:700>&gt;</span>
      <span style=color:green;font-weight:700>&lt;param</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;attachSavePath&#34;</span><span style=color:green;font-weight:700>&gt;</span>/upload/attach/<span style=color:green;font-weight:700>&lt;/param&gt;</span>
      The default !-- upload attachment size --
      <span style=color:#080;font-style:italic>&lt;!--&lt;param name=&#34;maxSize&#34;&gt;10485760&lt;/param&gt;--&gt;</span>
      The default !-- upload attachment type --
      <span style=color:#080;font-style:italic>&lt;!--&lt;param name=&#34;attachTypes&#34;&gt;*.*&lt;/param&gt;--&gt;</span>
    <span style=color:green;font-weight:700>&lt;/action&gt;</span>
    <span style=color:green;font-weight:700>&lt;action</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;keManagerImages&#34;</span> <span style=color:#b44>class=</span><span style=color:#b44>&#34;com.elkan.kindeditor.struts2.plugin.KEManageImgAction&#34;</span><span style=color:green;font-weight:700>&gt;</span>
      <span style=color:green;font-weight:700>&lt;param</span> <span style=color:#b44>name=</span><span style=color:#b44>&#34;imgSavePath&#34;</span><span style=color:green;font-weight:700>&gt;</span>/upload/image/<span style=color:green;font-weight:700>&lt;/param&gt;</span>
    <span style=color:green;font-weight:700>&lt;/action&gt;</span>
  <span style=color:green;font-weight:700>&lt;/package&gt;</span>
<span style=color:green;font-weight:700>&lt;/struts&gt;</span>

</code></pre></div><p>KindEditor JS script configuration on the Jsp page .Struts2 version:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>
KE.show({
  id<span style=color:#666>:</span> <span style=color:#b44>&#34;editorStruts2&#34;</span>,
  resizeMode<span style=color:#666>:</span> <span style=color:#666>0</span>,
  allowFileManager <span style=color:#666>:</span> <span style=color:#a2f;font-weight:700>true</span>,
  imageUploadJson<span style=color:#666>:</span> <span style=color:#b44>&#34;/KEPlugin/keplugin/keUploadImg.action&#34;</span>,
      fileManagerJson <span style=color:#666>:</span> <span style=color:#b44>&#34;/KEPlugin/keplugin/keManagerImages.action&#34;</span>,
      The <span style=color:#a2f;font-weight:700>default</span> is . . . <span style=color:#a2f;font-weight:700>for</span> all types <span style=color:#a2f;font-weight:700>of</span> files
  <span style=color:#080;font-style:italic>//accessoryTypes: &#34;doc|docx&#34;,
</span><span style=color:#080;font-style:italic></span>        accessoryUploadJson<span style=color:#666>:</span> <span style=color:#b44>&#34;/KEPlugin/keplugin/keUploadAttach.action&#34;</span>       
});

</code></pre></div><p>This time also written with the JQuery EasyUI and Syntax Highlighter Grammar Highlight plug-ins, let&rsquo;s start by previewing Kindeditor&rsquo;s refreshing figure in EasyUI mode and shining on the scene&mldr;</p>
<p>:: Apply the sample home page</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2011/05-05-kindeditor-jsp-ss-2.png alt=kindeditor-jsp-ss-2></p>
<p>:: Servlet version of KE</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2011/05-05-kindeditor-jsp-ss-3.png alt=kindeditor-jsp-ss-3></p>
<p>:: Struts2 version of KE</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2011/05-05-kindeditor-jsp-ss-4.png alt=kindeditor-jsp-ss-4></p>
<p>:: Attachment upload page</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2011/05-05-kindeditor-jsp-ss-5.png alt=kindeditor-jsp-ss-5></p>
<p>:: On The picture management</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/kindeditor-jsp-ss-6.png alt=kindeditor-jsp-ss-6></p>
<p>:: KE editor preview effect</p>
<p><img src=//lisenhui.gitee.io/imgs/blog/2011/05-05-kindeditor-jsp-ss-7.png alt=kindeditor-jsp-ss-7></p>
<p>For more detailed application features, please see the attachment for download. Finally remember to support the development of domestic technology ah, have an opinion please shoot brick spit slot.</p>
<p>PS: Download the KindEditor app sample download (<a href=http://download.csdn.net/download/lisenhui_19/3689869%29 target=_blank rel=noopener>http://download.csdn.net/download/lisenhui_19/3689869)</a>
.</p>
<p>Unzip the downloaded package into the Webapps directory of the Tomcat server, launch the Tomcat server, open the browser and enter it in the address bar: http://localhost:portnumber/KEPlugin/index.jspyou can see the application example above, Congratulation!</p>
</div>
<footer class=post-footer>
<div class=post-tags>
<a href=/en/tags/java rel=tag title=Java>#Java#</a>
<a href=/en/tags/kindeditor rel=tag title=KindEditor>#KindEditor#</a>
</div>
<div class=addthis_inline_share_toolbox></div>
<div class=post-nav>
<div class=article-copyright>
<div class=article-copyright-img>
<img src=/img/qq_qrcode.png width=129px height=129px>
<div style=text-align:center>QQ QrCode</div>
</div>
<div class=article-copyright-info>
<p>
<span>Declaration：</span>Open JSP KindEditor's attachment JAR package source code
</p>
<p>
<span>Link：</span>https://lisenhui.cn/en/2011/05/05/kindeditor-jsp-source.html
</p>
<p>
<span>Author：</span>Elkan.Li
</p>
<p>
<span>Declaration： </span>This blog post article is under the <a href=https://creativecommons.org/licenses/by-nc-sa/3.0/ target=_blank style=text-decoration:underline>CC BY-NC-SA 3.0</a> license,Please indicate the source!
</p>
</div>
</div>
<div class=clear></div>
</div>
<div class=reward-qr-info>
<div>If it can help you, you can give tips for blogger that how much you want. ^_^</div>
<button id=rewardButton disable=enable onclick="var qr=document.getElementById('QR');qr.style.display==='none'?qr.style.display='block':qr.style.display='none'">
<span>Reward</span>
</button>
<div id=QR style=display:none>
<div id=wechat style=display:inline-block>
<img id=wechat_qr src=/img/wechat-pay.png alt="WeChat Pay">
<p>Wechat Pay</p>
</div>
<div id=alipay style=display:inline-block>
<img id=alipay_qr src=/img/ali-pay.png alt=Alipay>
<p>Ali Pay</p>
</div>
</div>
</div>
<div class=post-nav>
<div class="post-nav-next post-nav-item">
<a href=https://lisenhui.cn/en/2011/05/16/myeclipse-chinese-tool.html rel=next title="MyEclipse6.5 plus IDE Hanhua software">
<i class="fa fa-chevron-left"></i> MyEclipse6.5 plus IDE Hanhua software
</a>
</div>
<div class="post-nav-prev post-nav-item">
<a href=https://lisenhui.cn/en/2011/03/24/kindeditor-jsp-complete.html rel=prev title="JSP's complete KindEditor online editor">
JSP's complete KindEditor online editor
<i class="fa fa-chevron-right"></i>
</a>
</div>
</div>
<div id=wcomments></div>
</footer>
</article>
</section>
</div>
</div>
</div>
</main>
<footer id=footer class=footer>
<div class=footer-inner>
<div class=copyright>
<span class=copyright-year>
&copy; 2010 - 2022
</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=copyright-author>Loving life and dreams.</span>
</div>
<div class=powered-info>
<span class=powered-by>
Powered by - <a class=powered-link href=//gohugo.io target=_blank title=hugo>Hugo v0.87.0</a>
</span>
<span class=separator-line>/</span>
<span class=theme-info>
Theme by - <a class=powered-link href=//github.com/elkan1788/hugo-theme-next target=_blank> NexT
</a>
</span>
</div>
<div class=vistor-info>
<span class=cnzz_icon id=cnzz_stat_icon_1279205305>
<a href="//www.cnzz.com/stat/website.php?web_id=1279205305" target=_blank title=站长统计>
<img border=0 hspace=0 vspace=0 src=//icon.cnzz.com/img/pic1.gif>
</a>
</span>
<script type=text/javascript>(function(){var a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,a.charset='utf-8',a.src='https://s4.cnzz.com/z_stat.php?id=1279205305&show=pic1',b=document.getElementsByTagName('script')[0],b.parentNode.insertBefore(a,b)})()</script>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<span class=site-uv>
<i class="fa fa-user"></i>
<span class=busuanzi-value id=busuanzi_value_site_uv></span>
</span>
<span class=separator-line>/</span>
<span class=site-pv>
<i class="fa fa-eye"></i>
<span class=busuanzi-value id=busuanzi_value_site_pv></span>
</span>
</div>
<div class=license-info>
<span class=storage-info>
Storage by
<a href=https://gitee.com/ style=font-weight:700 target=_blank>Gitee Repository</a>
</span>
<span class=separator-line>/</span>
<span class=license-num>
<a href=http://beian.miit.gov.cn target=_blank>ICP.NO 18047355</a>
</span>
</div>
</div>
</footer>
<div class=back-to-top>
<i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span>
</div>
</div>
<script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script type=text/javascript src=https://lisenhui.cn/js/search.js></script>
<script type=text/javascript src=https://lisenhui.cn/js/affix.js></script>
<script type=text/javascript src=https://lisenhui.cn/js/scrollspy.js></script>
<script type=text/javascript>function detectIE(){var a=window.navigator.userAgent,b=a.indexOf('MSIE '),c=a.indexOf('Trident/'),d=a.indexOf('Edge/');return b>0||c>0||d>0?-1:1}function getCntViewHeight(){var b=$('#content').height(),a=$(window).height(),c=b>a?b-a:$(document).height()-a;return c}function getScrollbarWidth(){var a=$('<div />').addClass('scrollbar-measure').prependTo('body'),b=a[0],c=b.offsetWidth-b.clientWidth;return a.remove(),c}function registerBackTop(){var b=50,a=$('.back-to-top');$(window).on('scroll',function(){var d,e,f,c,g;a.toggleClass('back-to-top-on',window.pageYOffset>b),d=$(window).scrollTop(),e=getCntViewHeight(),f=d/e,c=Math.round(f*100),g=c>100?100:c,$('#scrollpercent>span').html(g)}),a.on('click',function(){$("html,body").animate({scrollTop:0,screenLeft:0},800)})}function initScrollSpy(){var a='.post-toc',d=$(a),b='.active-current';d.on('activate.bs.scrollspy',function(){var b=$(a+' .active').last();c(),b.addClass('active-current')}).on('clear.bs.scrollspy',c),$('body').scrollspy({target:a});function c(){$(a+' '+b).removeClass(b.substring(1))}}function initAffix(){var a=$('.header-inner').height(),b=parseInt($('.main').css('padding-bottom'),10),c=a+10;$('.sidebar-inner').affix({offset:{top:c,bottom:b}}),$(document).on('affixed.bs.affix',function(){updateTOCHeight(document.body.clientHeight-100)})}function initTOCDimension(){var a,b;$(window).on('resize',function(){a&&clearTimeout(a),a=setTimeout(function(){var a=document.body.clientHeight-100;updateTOCHeight(a)},0)}),updateTOCHeight(document.body.clientHeight-100),b=getScrollbarWidth(),$('.post-toc').css('width','calc(100% + '+b+'px)')}function updateTOCHeight(a){a=a||'auto',$('.post-toc').css('max-height',a)}$(function(){var b=$('.header-inner').height()+10,c,d,a,e;$('#sidebar').css({'margin-top':b}).show(),c=parseInt($('#sidebar').css('margin-top')),d=parseInt($('.sidebar-inner').css('height')),a=c+d,e=$('.content-wrap').height(),e<a&&$('.content-wrap').css('min-height',a),$('.site-nav-toggle').on('click',function(){var a=$('.site-nav'),e=$('.toggle'),b='site-nav-on',f='toggle-close',c=a.hasClass(b),g=c?'slideUp':'slideDown',d=c?'removeClass':'addClass';a.stop()[g]('normal',function(){a[d](b),e[d](f)})}),registerBackTop(),initScrollSpy(),initAffix(),initTOCDimension(),$('.sidebar-nav-toc').click(function(){$(this).addClass('sidebar-nav-active'),$(this).next().removeClass('sidebar-nav-active'),$('.'+$(this).next().attr('data-target')).toggle(500),$('.'+$(this).attr('data-target')).toggle(500)}),$('.sidebar-nav-overview').click(function(){$(this).addClass('sidebar-nav-active'),$(this).prev().removeClass('sidebar-nav-active'),$('.'+$(this).prev().attr('data-target')).toggle(500),$('.'+$(this).attr('data-target')).toggle(500)})})</script>
<script src=//cdn.bootcdn.net/ajax/libs/imageviewer/0.1.0/viewer.min.js></script>
<script type=text/javascript>$(function(){$('.post-body').viewer()})</script>
<script type=text/javascript>const locale={placeholder:'Just do what you want leave here, and don\u0027t forget give your email to make exchange. ^_^'};$(function(){detectIE()>0?$.getScript(document.location.protocol+'//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js',function(){new Waline({el:'#wcomments',visitor:!0,emoji:['https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq','https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/alus','https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili'],wordLimit:'200',uploadImage:!1,locale,requiredMeta:['nick','mail'],serverURL:"https://waline.lisenhui.cn",lang:"en"})}):$('#wcomments').html('Sorry, Waline plugin doesn\u0027t support IE or Edge, Please swithc to Chrome browser.')})</script>
<script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6049e46e9ee22127"></script>
<script>(function(){var a=document.createElement('script'),c=window.location.protocol.split(':')[0],b;c==='https'?a.src='https://zz.bdstatic.com/linksubmit/push.js':a.src='http://push.zhanzhang.baidu.com/push.js',b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script>
<script type=text/javascript>$(function(){var b,a;document.body.clientWidth>900&&(b=document.getElementsByTagName('HEAD').item(0),a=document.createElement("script"),a.type="text/javascript",a.innerHTML='(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",(\'https:\' == document.location.protocol ? \'https:\' : \'http:\') + "//widget.daovoice.io/widget/f89653b8.js","daovoice")',b.appendChild(a),daovoice('init',{app_id:"f89653b8"}),daovoice('update'))})</script>
</body>
</html>