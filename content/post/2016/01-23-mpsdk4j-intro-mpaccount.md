---
title: mpsdk4j的点滴记录--MPAccount
slug: mpsdk4j-intro-mapaccount
date: "2016-01-23 16:08:32"
tags: 
  - MPSDK4J
  - 微信
categories:
  - MPSDK4J
---

`mpsdk4j`是在实际的生产项目中抽离出来的开源分享项目,它的成长至今也算是有不少的经历吧, 最近一直忙于工作与生活上的事情疏忽了对它的关心. 自去年下决心对它重构并建立了QQ交流群([486192816](http://jq.qq.com/?_wv=1027&k=dPDLxk))后, 逐渐的有不业界朋友前来关注, 在此非常感谢他们的支持. 都说用过方知其好, 可实际情况确不是这么乐观呀,在大家的使用过程中发现`mpsdk4j`有不少欠缺与不足的地方. 之前一直想在元旦发布的2.b.1版本也拖延至今还没有交工, 在此对大家说声抱歉, 以后定会嘉勉.下面还是先进入此次的主题--初识`mpsdk4j`之`MPAccount`. (注: 对于有微信开发基础与项目经验的可略过)

<!--more-->

`mpsdk4j`自发布之时起的目标就是要做到原生态,简单易用. 不过在实际的交流过程中发现一个普遍的现象, 就是对初次接触微信开发的朋友来说,`mpsdk4j`的使用还是有点难(这也是为何要写这一篇博文的原因之一). 那么接下来我们就先简单的认识下微信公众平台开的所需要的元素, 以及它们与`mpsdk4j`之的映射关系.

微信公众号属性
---------------

| 序号 | 属性 | 示例 | 备注 |
|---|---|---|---|
| 1 | 公众号原始ID | gh_20e50b3b4r9u | 以gh_开头的(不明白其含义) |
| 2 | 公众号昵称 | mpsdk4j | 用户自定义的公众号别名 |
| 3 | 用户唯一凭证(应用ID) | wxa822bd879532187 | 以字母wx开头的,其含义大概是微信的拼音首字母 |
| 4 | 用户唯一凭证密钥(应用密钥) | 613d3ce897hgf71a875d1342c8325f3d | 32位的随机字符串 |
| 5 | AES 加解密密钥 | JwAsfZH4p9iuuvfxjry6cLtlOgZAd853kJQ5hNv5OI4 | 43位的随机字符串 |
| 6 | 开发者服务令牌 | weixindev | 用户接入微信开发者服务时的自定义令牌 |
| 7 | 公众号类型 | S | D: 订阅号, S: 服务号, E: 企业号 (预留字段)|
| 8 | 是否认证 | true | true: 通过认证, false: 未通过认证 (同上也是预留字段) | 


`mpsdk4j`中的代码映射关系
---------------------------

那么在`mpsdk4j`中我设计了一个对象, 位于`io.github.elkan1788.mpsdk4j.vo`包中其名字叫`MPAccount`, 直译过来是微信公众号的意思. 它将上面的**8**个公众号属性对应的代码如下:

```java

/**
 * 微信公众号信息
 * 
 * @author 凡梦星尘(elkan1788@gmail.com)
 * @since 2.0
 */
public class MPAccount {

    /**
     * 公众号原始ID
     */
    private String mpId;

    /**
     * 公众号昵称
     */
    private String nickName;

    /**
     * 应用Id
     */
    private String appId;

    /**
     * 应用密钥
     */
    private String appSecret;

    /**
     * 令牌
     */
    private String token;

    /**
     * AES安全加密密钥
     */
    private String AESKey;

    /**
     * 公众号类型
     * D:订阅号
     * E:企业号
     * S:服务号
     */
    private String mpType;

    /**
     * 是否认证
     */
    private boolean pass;
		
		......
}

```

有过微信开发经验的朋友, 都不难看出这些属性都是微信公众号必备的, 前面**6**个属性是可以微信公众号管理平台上直观的看到, 后面**2**个属性是从中经验中吸取提炼出来的, 在后面的许多开发中有使用的需求. 比如在调用微信的语音识别接口时就是得先了解当前公众号是否通过认证, 只有认证成功的公众号才有权限使用语音识别接口. 在实际的项目经验中, 你直接把此类设计成一个数据库表用来管理微信公众号信息.

或许你会觉得看完这些文章并没有太大的收获, 那不要紧, 你可以把它收藏起来, 当作是文档工具使用. 哪天你在开发的时候不记得了其中某个属性的含义, 可以倒回头来再拾起. 如有更好的建议或是意见, 可以在下面回复. 

参考:

- [接入指南](https://mp.weixin.qq.com/wiki/8/f9a0b8382e0b77d87b3bcc1ce6fbc104.html) 
- [消息加密](https://mp.weixin.qq.com/wiki/14/70e73cedf9fd958d2e23264ba9333ad2.html)


