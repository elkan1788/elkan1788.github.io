NexT.plugins.others.clipboard=()=>{let e=document.querySelectorAll("div.highlight > .chroma");if(e.length===0)return;if(e.forEach(e=>{let o=e.querySelector('code[class]:not([class=""]'),i=o.className,n=document.createElement("div");n.classList.add("copy-btn"),o.parentNode.appendChild(n),e.addEventListener("mouseleave",()=>{setTimeout(()=>{n.classList.remove("copied","uncopied")},300)});var s,t=document.createElement("div");t.classList.add("code-header"),t.classList.add(i),t.insertAdjacentHTML("afterbegin",'<span class="code-lang"></span><span class="collapse-btn"></span>'),s=t.querySelector(".collapse-btn"),e.scrollHeight>e.clientHeight+10?t.addEventListener("click",()=>{e.classList.toggle("hidden-code"),s.classList.toggle("collapse")},!1):(t.style.cursor="default",t.removeChild(s)),e.parentNode.insertBefore(t,e)}),!NexT.CONFIG.copybtn||!NexT.CONFIG.page.clipboard)return;const t=NexT.utils.getCDNResource(NexT.CONFIG.page.clipboard.js);NexT.utils.getScript(t,()=>{var e=new ClipboardJS(".copy-btn",{text:function(e){return e.previousElementSibling.textContent.trim()}});e.on("success",function(e){e.clearSelection(),e.trigger.classList.add("copied")}),e.on("error",function(e){console.error("Copy failed:",e),e.trigger.classList.add("uncopied")})})}