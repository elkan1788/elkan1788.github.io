!function(a){a(document).ready(function(){a("a[href]").each(function(){-1==this.href.indexOf(window.location.host)&&a(this).attr({target:"_blank"})})}),a(document).ready(function(){function c(a){return String(a).replace(/[&<>"'\/]/g,function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return b[a]})}function d(a){var e,f,g,h,i,j,k,m,n,o,p,q,b=/^([0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(\.[0-9]+)?(Z|([+-])([0-9]{2}):([0-9]{2}))?$/,c=a.match(b);return c?(c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],c[8],m=c[9],n=c[10],o=c[11],m&&(p="+"==m?1:-1,h=parseInt(h)+parseInt(n)*p,i=parseInt(i)+parseInt(o)*p),f=parseInt(f)-1,q=Date.UTC(e,f,g,h,i,j,k||0),new Date(q)):null}function e(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}function f(f){var j,k,l,m,n,o,p,q,g=[],h=new RegExp(f,"im");for(j=0;j<b.length;j++)k=b[j],l=a(k.getElementsByTagName("title")[0]).text(),m=a(k.getElementsByTagName("link")[0]).attr("href"),n=a(k.getElementsByTagName("content")[0]).text(),(h.test(l)||h.test(n))&&(o=e(d(a(k.getElementsByTagName("updated")[0]).text())),g.push({title:l,link:m,date:o,content:n}));for(p='<h2 style="margin: 0 15px;">Search Result</h2><br>',j=0;j<g.length;j++)q=g[j],p+='<h3 class="title" style="margin: 0 15px;"><a href="'+q.link+'">'+c(q.title)+"</a></h3>",p+='<section style="margin: 0 15px;"><p>'+c(q.content)+"</p></section>",p+='<footer style="margin: 0 15px;"><p>Update: '+q.date+"</p></footer>";a(".row").html(p),a("#search-loader").hide(),a(".row").show()}var b=null;a("#search-form").submit(function(){var c=a("#query").val();return a(".row").hide(),a("#search-loader").show(),null==b?a.ajax({url:"/atom.xml?r="+99999999999*Math.random(),dataType:"xml",success:function(a){b=a.getElementsByTagName("entry"),f(c)}}):f(c),a("#query").blur().attr("disabled",!1),!1})}),function(){LoadingImage=function(a,b){var d=a.children[0];return this.interval=b.interval||10,this.diameter=b.diameter||d.width,this.count=0,this.el=a,d.setAttribute("style","position:absolute"),a.style.width=this.diameter+"px",a.style.height=this.diameter+"px",this},LoadingImage.prototype.start=function(){var a=this,b=0,c=this.el.children[0];this.el.display="block",a.loop=setInterval(function(){19==b&&(b=0),c.style.top=-a.diameter*b+"px",b++},this.interval)},LoadingImage.prototype.stop=function(){clearInterval(this.loop),this.el.style.display="none"},document.LoadingImage=LoadingImage}(),a(document).ready(function(){a(".loading").each(function(){var b=new LoadingImage(this,{interval:50});b.start()})})}(jQuery);